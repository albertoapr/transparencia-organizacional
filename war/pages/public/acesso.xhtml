<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui" >
	
  <ui:composition template="../layout/template.xhtml"> 
<ui:define name="sidebar">
    	<ui:include src="menu.xhtml" >
    	        <ui:param name="comando" value="acesso" />
    	   </ui:include>
    	</ui:define>
	<ui:define name="content">

	<f:metadata>
	        
            <f:event type="preRenderView" listener="#{loginBean.logout}" />
        </f:metadata>
	

      <h:panelGroup layout="block" class="alert alert-error" rendered="#{facesContext.validationFailed or not empty facesContext.messageList }">
    	<h:messages showDetail="true" showSummary="false" />
    </h:panelGroup>
    <h:form styleClass="form-horizontal">
    	<fieldset>
    		<legend>Autenticação</legend>
    		
    		
    		<div class="control-group">
	    		<label class="control-label"><h:outputText value="#{msg['label.usuario.email']}" /></label>
	    		<div class="controls">
	    			<h:inputText id="email" value="#{loginBean.user}" size="50" maxlength="50" 
					validatorMessage="e-Mail inválido" label="#{msg['label.usuario.email']}" required="true" styleClass="input-large">
						<f:validateRegex pattern="[a-zA-Z0-9\-\_\.]+@[a-zA-Z0-9\-\_\.]+"/>
						
					</h:inputText> 
	    		</div>
	    	</div>
	    	
	    	
	    	
	    	<div class="control-group">
	    		<label class="control-label"><h:outputText value="#{msg['label.usuario.senha']}" /></label>
	    		<div class="controls">
	    			<h:inputSecret id="senha" value="#{loginBean.password}" size="10" maxlength="8" 
					validatorMessage="e" label="#{msg['label.usuario.senha']}" required="true" styleClass="input-large">
						<f:validateRegex pattern="[a-zA-Z0-9\-\_\.]+"/>
						<f:validateLength minimum="6" maximum="8" />
					</h:inputSecret> 
					
	    		</div>
	    	</div>
	    	
		   
	    	
    	</fieldset>
    	
    	<div class="control-group">
    		<div class="controls" >
    			<h:commandButton value="#{msg['button.login']}" action="#{loginBean.login}" styleClass="btn btn-success"/>
    			<h:button value="Esqueceu a senha ?" outcome="recupera_senha" styleClass="btn btn-danger"/>
    			
    		</div>
    		<h:button value="Cadastre-se" outcome="/pages/private/usuario/incluir.jsf?novo=true" styleClass="btn"/>
    		<!-- 
    		<h:link outcome="recupera_senha.jsf" value="Recuperar senha"  rendered="#{!loginBean.autenticado}"/>
    		 -->
    	</div>
    </h:form>

	
	</ui:define>
 </ui:composition>
</html>
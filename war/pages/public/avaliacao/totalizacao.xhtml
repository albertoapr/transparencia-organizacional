<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
      >

    <ui:composition template="../../layout/template.xhtml">
      <ui:param name="aba" value="avaliacoes" />
    
    	    
    
    	<ui:define name="pageTitle"><h:outputText value="#{msg['page.title.lista.avaliacao']}" /></ui:define>
    	
    	<f:metadata>
            <f:event type="preRenderView" listener="#{avaliacaoBean.fillTotalizacoesValidas}" />
             <f:viewParam name="somenteValidas" value="#{avaliacaoBean.somenteValidas}" />
        </f:metadata>
        
        <ui:define name="sidebar">
    	   <ui:include src="menu.xhtml" >
    	         <ui:param name="comando" value="totalAvalidas" />  
    	      
    	   </ui:include>     
    	</ui:define>
    	
		<ui:define name="content">
		
	
			
		<h:messages />
			<h:form >
			
				<h:dataTable value="#{avaliacaoBean.dmTotalizacoesValidas}" var="totalizador" styleClass="table table-hover">
			          <f:facet name="header" align="center"> 
			          <h4 align="center">	<small> <h:outputText align="center" value="Total de Avaliações Válidas por Estado e Nível de Transpência" rendered ="#{avaliacaoBean.somenteValidas}"/></small></h4> 
                      <h4 align="center">	<small>   <h:outputText align="center" value="Total de Organizações Avaliadas por Estado e Nível de Transpência" rendered ="#{!avaliacaoBean.somenteValidas}"/>	</small></h4>
		              </f:facet> 
	                <h:column >
						<f:facet name="header" >
						<h:outputText value="#{msg['label.organizacao.estado']}" /></f:facet>
						<h:outputText value="#{totalizador.estado}" />
	                </h:column>
	                
	                <h:column >
						<f:facet name="header" >
						<h:outputText value="Opaca" /></f:facet>
				 		<h:outputText  value="#{totalizador.totalOpaca}" />
                   </h:column>
                   
                   <h:column >
						<f:facet name="header" >
						<h:outputText value="Divulgada" /></f:facet>
				 		<h:outputText  value="#{totalizador.totalDivulgada}" />
                   </h:column>
                   
                  <h:column >
						<f:facet name="header" >
						<h:outputText value="Compreendida" /></f:facet>
				 		<h:outputText  value="#{totalizador.totalCompreendida}" />
                   </h:column>
                   
                   <h:column >
						<f:facet name="header" >
						<h:outputText value="Confiavel" /></f:facet>
				 		<h:outputText  value="#{totalizador.totalConfiavel}" />
                   </h:column>
                   <h:column >
						<f:facet name="header" >
						<h:outputText value="Participativa" /></f:facet>
				 		<h:outputText  value="#{totalizador.totalParticipativa}" />
                   </h:column>
                   
                
                                    
	                <h:column >
						<f:facet name="header" >
						<h:outputText value="#{msg['label.avaliacao.total']}" /></f:facet>
				 		<h:outputText  value="#{totalizador.total}" />
                   </h:column>
	                
	              
				</h:dataTable>
	
			
				 
			</h:form>
			
		</ui:define>
    </ui:composition>
</html>
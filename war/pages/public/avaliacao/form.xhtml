<ui:fragment xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    >
    <h:panelGroup layout="block" class="alert alert-error" rendered="#{facesContext.validationFailed or not empty facesContext.messageList }">
    	<h:messages showDetail="true" showSummary="false" />
    </h:panelGroup>
    <h:form  styleClass="form-horizontal">
    	<fieldset>
    		<legend><h3><h:outputText value="#{msg['label.avaliacao']}" /> <small> <h:outputText value="#{subtitle}" /></small></h3></legend>
    		<div class="control-group">
	    		<label class="control-label"><h:outputText value="#{msg['label.organizacao']}" /></label>
	    		<div class="controls">
	    		<h:panelGroup>
				  <h:selectOneMenu  id="organizacao" value="#{avaliacaoBean.avaliacao.organizacao.id}"  label="Organizacao"  >
					<f:selectItems value="#{organizacaoBean.dmOrganizacoes}"  var="organizacao" itemValue="#{organizacao.id}" itemLabel="#{organizacao.nome}"/>
				  </h:selectOneMenu>
				
			   </h:panelGroup>
	    	
	    		</div>
    		</div>
    		
    		<div class="control-group">
	    		<label class="control-label"><h:outputText  value="#{msg['label.avaliacao.nivel']}" /></label>
	    		<div class="controls">
	    		<h:panelGroup>
				<h:selectOneMenu  id="nivelTransparencia" value="#{avaliacaoBean.avaliacao.nivelTransparencia}"  label="Nível de Transparência"  >
					<f:selectItems value="#{avaliacaoBean.niveis}" var="nivel" />
				</h:selectOneMenu>
				
			</h:panelGroup>
	    		</div>
	    	</div>
    		
    		<div class="control-group">
	    		<label class="control-label"><h:outputText value="#{msg['label.avaliacao.escopo']}" /></label>
	    		<div class="controls">
	    			<h:inputText value="#{avaliacaoBean.avaliacao.escopo}" label="#{msg['label.avaliacao.escopo']}" required="true" styleClass="input-large">
	    				<f:validateLength minimum="5" maximum="100" />
	    			</h:inputText>
	    		</div>
	    	</div>
	    	  
	    	<div class="control-group">
	    		<label class="control-label"><h:outputText value="#{msg['label.avaliacao.avaliador']}" /></label>
	    		<div class="controls">
	    		<h:panelGroup>
				  <h:selectOneMenu  id="avaliador" value="#{avaliacaoBean.avaliacao.avaliador.id}"  label="Avaliador"  >
					<f:selectItems value="#{profissionalBean.dmProfissionais}" var="profissional" itemValue="#{profissional.id}" itemLabel="#{profissional.nome}"/>
				  </h:selectOneMenu>
				
			   </h:panelGroup>
	    		</div>
	    		</div>
	    	 	
	    	<div class="control-group">
	    		<label class="control-label">
	    		<h:outputLink  value="#{avaliacaoBean.avaliacao.declaracao}" >
                			#{msg['label.avaliacao.declaracao']}
                		</h:outputLink>
	    		
	    		</label>
	    		<div class="controls">
	    		<h:panelGroup>
	    		 <h:inputText value="#{avaliacaoBean.avaliacao.declaracao}" /><br/>  
                 <iframe src="uploadSelo.jsp" width="420px" height="80px"/> 
			   
				
		            
		           
                          
                </h:panelGroup>
	    		</div>
	    	</div>
	    	
	    	<div class="control-group">
	    		<label class="control-label">
	    		<h:outputLink  value="#{avaliacaoBean.avaliacao.resultado}" >
                			#{msg['label.avaliacao.resultado']}
                		</h:outputLink>
	    		
	    		</label>
	    		<div class="controls">
	    		<h:panelGroup>
	    		<h:inputText value="#{avaliacaoBean.avaliacao.resultado}" /> <br/>  
				<iframe src="uploadResultado.jsp" width="420px" height="80px"/> 
                                
                </h:panelGroup>
	    		</div>
	    	</div>
	    	
	    	<div class="control-group">
	    		<label class="control-label"><h:outputText value="#{msg['label.avaliacao.data']}" /></label>
	    		<div class="controls">
	    			<h:inputText id="dataAvaliacao" value="#{avaliacaoBean.avaliacao.dataAvaliacao}" label="#{msg['label.avaliacao.dataavaliacao']}" required="true" styleClass="input-large">
	    				<f:validateLength minimum="5" maximum="30" />
	    				<f:convertDateTime pattern="d/M/yyyy" />
	    			</h:inputText>
	    		</div>
	    	</div>
	    	
	    	<div class="control-group">
	    		<label class="control-label"><h:outputText value="#{msg['label.validade.data']}" /></label>
	    		<div class="controls">
	    			<h:inputText id="dataValidade" value="#{avaliacaoBean.avaliacao.dataValidade}" label="#{msg['label.avaliacao.datavalidade']}" required="true" styleClass="input-large">
	    				<f:validateLength minimum="5" maximum="30" />
	    				<f:convertDateTime pattern="d/M/yyyy" />
	    			</h:inputText>
	    		</div>
	    	</div>
    	</fieldset>
    	
    	<div class="control-group">
    		<div class="controls">
    			<h:commandButton value="#{msg['button.salvar']}" action="#{avaliacaoBean.salvar}" styleClass="btn btn-success" rendered="#{loginBean.checkAdministrador}"/>
    			<h:button value="#{msg['button.cancelar']}" outcome="lista" styleClass="btn"/>
    			<h:commandButton value="#{msg['button.excluir']}" action="#{avaliacaoBean.remover}" rendered="#{avaliacaoBean.avaliacao.id != null and loginBean.checkAdministrador}"  immediate="true" styleClass="btn btn-danger"/>
    		</div>
    	</div>
    </h:form>
    
    
    
    
    <script src="../../../resources/js/jquery/jquery.ui.min.js"></script>
<script src="../../../resources/js/jquery/jquery.maskedinput.js"></script>
<script src="../../../resources/js/jquery/jquery.meiomask.js"></script>
<script src="../../../resources/js/simplemvc/simplemvc.datefield.js"></script>
<script src="../../../resources/js/simplemvc/simplemvc.phonefield.js"></script>
<script src="../../../resources/js/simplemvc/simplemvc.intfield.js"></script>
<script src="../../../resources/js/forms.js"></script>

<script type="text/javascript">
$(document).ready(function() {
	//$("#cpf").mask("999.999.999/99");
	//$("#cep").mask("99.999-999");
	//$("#tempoEmpresa").setIntField();
	//$("#anoConclusao").setIntField();
	$("#dataAvaliacao").setDateField();
	//$("#telefoneFixo").phoneField();
	//$("#telefoneCelular").phoneField();
	
//	$("#estado").change(function() {
//		capturaMunicipios("estado", "municipio", "${item.municipio}");
//	});
//	$("#estado").trigger("change");	
});
</script>
</ui:fragment>

